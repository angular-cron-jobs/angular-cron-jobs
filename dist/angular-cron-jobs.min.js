/**
 * UI Component For Creating Cron Job Syntax To Send To Server
 * @version v3.2.3 - 2016-12-20 * @link https://github.com/jacobscarter/angular-cron-jobs
 * @author Jacob Carter <jc@jacobcarter.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("templates-angularcronjobs",["cronselection.html"]),angular.module("cronselection.html",[]).run(["$templateCache",function(a){a.put("cronselection.html",'<div class="cron-wrap">\n    <span>{{templateKeys.EVERY}}: </span>\n    <div class="cron-select-wrap">\n        <select class="cron-select" ng-model="myFrequency.base" ng-options="item.value as item.label for item in frequency"></select>\n    </div>\n    <div class="select-options">\n        <span ng-show="myFrequency.base == 4">{{templateKeys.ON}} </span>\n        <div ng-show="myFrequency.base == 4" class="cron-select-wrap">\n            <!-- If Multiple is Enabled -->\n            <select class="cron-select day-value"\n                    ng-model="myFrequency.dayValues"\n                    ng-if="allowMultiple" multiple\n                    ng-options="value as (value | cronDayName: cronStyle) for value in dayValues">\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select day-value"\n                    ng-model="myFrequency.dayValues"\n                    ng-if="!allowMultiple"\n                    ng-options="value as (value | cronDayName: cronStyle) for value in dayValues">\n            </select>\n        </div>\n        <span ng-show="myFrequency.base >= 5">{{templateKeys.ON_THE}} </span>\n        <div ng-show="myFrequency.base >= 5" class="cron-select-wrap">\n            <!-- If Multiple is Enabled -->\n            <select class="cron-select day-of-month-value"\n                    ng-model="myFrequency.dayOfMonthValues"\n                    ng-if="allowMultiple" multiple\n                    ng-options="value as (value | cronNumeral) for value in dayOfMonthValues">\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select day-of-month-value"\n                    ng-model="myFrequency.dayOfMonthValues"\n                    ng-if="!allowMultiple"\n                    ng-options="value as (value | cronNumeral) for value in dayOfMonthValues">\n            </select>\n        </div>\n        <span ng-show="myFrequency.base == 6">{{templateKeys.OF}} </span>\n        <!-- If Multiple is Enabled -->\n        <div ng-show="myFrequency.base == 6" class="cron-select-wrap">\n            <select class="cron-select month-value"\n                    ng-model="myFrequency.monthValues"\n                    ng-if="allowMultiple" multiple\n                    ng-options="value as (value | cronMonthName) for value in monthValues">\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select month-value"\n                    ng-model="myFrequency.monthValues"\n                    ng-if="!allowMultiple"\n                    ng-options="value as (value | cronMonthName) for value in monthValues">\n            </select>\n        </div>\n        <span ng-show="myFrequency.base >= 2">{{templateKeys.AT}} </span>\n        <!-- If Multiple is Enabled -->\n        <div ng-show="myFrequency.base >= 3" class="cron-select-wrap">\n            <select class="cron-select hour-value"\n                    ng-model="myFrequency.hourValues"\n                    ng-if="allowMultiple" multiple\n                    ng-options="value as value for value in hourValues">\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select hour-value"\n                    ng-model="myFrequency.hourValues"\n                    ng-if="!allowMultiple"\n                    ng-options="value as value for value in hourValues">\n            </select>\n        </div>\n        <span ng-show="myFrequency.base >= 3"> : </span>\n        <!-- If Multiple is Enabled -->\n        <div ng-show="myFrequency.base >= 2" class="cron-select-wrap">\n            <select class="cron-select minute-value"\n                    ng-model="myFrequency.minuteValues"\n                    ng-if="allowMultiple" multiple\n                    ng-options="value as value for value in minuteValues">\n            </select>\n            <!-- If Multiple is not Enabled -->\n            <select class="cron-select minute-value"\n                    ng-model="myFrequency.minuteValues"\n                    ng-if="!allowMultiple"\n                    ng-options="value as value for value in minuteValues">\n            </select>\n        </div>\n        <span ng-show="myFrequency.base == 2"> {{templateKeys.PAST_THE_HOUR}}</span>\n    </div>\n</div>')}]),function(a){"use strict";a.module("angular-cron-jobs",["templates-angularcronjobs"]),a.module("angular-cron-jobs").directive("cronSelection",["cronService","i18nRetriever","baseFrequency",function(b,c,d){return{restrict:"EA",replace:!0,transclude:!0,require:"ngModel",scope:{ngModel:"=",config:"=",myFrequency:"=?frequency"},templateUrl:function(a,b){return b.template||"cronselection.html"},link:function(e,f,g,h){function i(a){a.base=parseInt(a.base),a.base>=d.hour&&(a.minuteValues=e.minuteValues[0]),a.base>=d.day&&(a.hourValues=e.hourValues[0]),a.base===d.week&&(a.dayValues=e.dayValues[0]),a.base>=d.month&&(a.dayOfMonthValues=e.dayOfMonthValues[0]),a.base===d.year&&(a.monthValues=e.monthValues[0])}var j=!1;if("object"!=typeof e.config||e.config.length||(a.isDefined(e.config.allowMultiple)?e.allowMultiple=e.config.allowMultiple:e.allowMultiple=!1,a.isDefined(e.config.quartz)&&e.config.quartz?e.cronStyle="quartz":e.cronStyle="default",a.isDefined(e.config.i18n)?e.cronI18n=e.config.i18n:e.cronI18n="EN",c.initialize(e.cronI18n),e.templateKeys=c.getTemplateKeys()),e.baseFrequency=d,e.frequency=c.getFrequencies(),"object"==typeof e.config&&!e.config.length&&"object"==typeof e.config.options){var k=Object.keys(e.config.options);for(var l in k){var m=k[l].replace(/^allow/,""),n=k[l];if(!e.config.options[n])for(var o in e.frequency)e.frequency[o].label===m&&e.frequency.splice(o,1)}}e.$watch("ngModel",function(c){a.isDefined(c)&&c?(j=!0,e.myFrequency=b.fromCron(c,e.allowMultiple,e.cronStyle)):""===c&&(e.myFrequency=void 0)}),e.minuteValues=[0,5,10,15,20,25,30,35,40,45,50,55],e.hourValues=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],e.dayOfMonthValues=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],e.dayValues=[0,1,2,3,4,5,6],e.monthValues=[1,2,3,4,5,6,7,8,9,10,11,12],"quartz"===e.cronStyle&&(e.dayValues=[1,2,3,4,5,6,7]),e.$watch("myFrequency",function(a,c){if(void 0!==a){!a||!a.base||c&&a.base===c.base||j?a&&a.base&&c&&c.base&&(j=!1):i(a);var d=b.setCron(a,e.cronStyle);h.$setViewValue(d)}},!0)}}}]).filter("cronNumeral",["i18nRetriever",function(a){return function(b){return null!==b?a.getNumeral(b):null}}]).filter("cronMonthName",["i18nRetriever",function(b){return function(c){var d=b.getMonths();return null!==c&&a.isDefined(d[c])?d[c]:null}}]).filter("cronDayName",["i18nRetriever",function(b){return function(c,d){var e=b.getDays(),f="quartz"===d?e[c-1]:e[c];return null!==c&&a.isDefined(f)?f:null}}]).directive("ngMultiple",function(){return{restrict:"A",scope:{ngMultiple:"="},link:function(a,b){a.$watch("ngMultiple",function(a){a?b.attr("multiple","multiple"):b.removeAttr("multiple")})}}})}(angular),function(a){"use strict";a.module("angular-cron-jobs").value("baseFrequency",{minute:1,hour:2,day:3,week:4,month:5,year:6}).factory("cronService",["baseFrequency",function(b){var c={};return c.setCron=function(a,b){return"quartz"===b?this.setQuartzCron(a):this.setDefaultCron(a)},c.setQuartzCron=function(c){var d=["0","*","*","*","*","?"];return c&&c.base&&c.base>=b.hour&&(d[1]="undefined"!=typeof c.minuteValues?c.minuteValues:"0"),c&&c.base&&c.base>=b.day&&(d[2]="undefined"!=typeof c.hourValues?c.hourValues:"*"),c&&c.base&&c.base===b.week&&(d[3]="?",(a.isArray(c.dayValues)&&c.dayValues.length>0||a.isDefined(c.dayValues)&&!a.isArray(c.dayValues))&&(d[5]=c.dayValues)),c&&c.base&&c.base>=b.month&&(d[3]="undefined"!=typeof c.dayOfMonthValues?c.dayOfMonthValues:"?"),c&&c.base&&c.base===b.year&&(d[4]="undefined"!=typeof c.monthValues?c.monthValues:"*"),d.join(" ")},c.setDefaultCron=function(a){var c=["*","*","*","*","*"];return a&&a.base&&a.base>=b.hour&&(c[0]="undefined"!=typeof a.minuteValues?a.minuteValues:"*"),a&&a.base&&a.base>=b.day&&(c[1]="undefined"!=typeof a.hourValues?a.hourValues:"*"),a&&a.base&&a.base===b.week&&(c[4]=a.dayValues),a&&a.base&&a.base>=b.month&&(c[2]="undefined"!=typeof a.dayOfMonthValues?a.dayOfMonthValues:"*"),a&&a.base&&a.base===b.year&&(c[3]="undefined"!=typeof a.monthValues?a.monthValues:"*"),c.join(" ")},c.fromCron=function(a,b,c){return"quartz"===c?this.fromQuartzCron(a,b):this.fromDefaultCron(a,b)},c.fromDefaultCron=function(a,c){var d=a.replace(/\s+/g," ").split(" "),e={base:"1"},f=[];if("*"===d[0]&&"*"===d[1]&&"*"===d[2]&&"*"===d[3]&&"*"===d[4]?e.base=b.minute:"*"===d[1]&&"*"===d[2]&&"*"===d[3]&&"*"===d[4]?e.base=b.hour:"*"===d[2]&&"*"===d[3]&&"*"===d[4]?e.base=b.day:"*"===d[2]&&"*"===d[3]?e.base=b.week:"*"===d[3]&&"*"===d[4]?e.base=b.month:"*"===d[4]&&(e.base=b.year),"*"!==d[0])if(c){f=d[0].split(",");for(var g=0;g<f.length;g++)f[g]=+f[g];e.minuteValues=f}else e.minuteValues=parseInt(d[0]);if("*"!==d[1])if(c){f=d[1].split(",");for(var g=0;g<f.length;g++)f[g]=+f[g];e.hourValues=f}else e.hourValues=parseInt(d[1]);if("*"!==d[2])if(c){f=d[2].split(",");for(var g=0;g<f.length;g++)f[g]=+f[g];e.dayOfMonthValues=f}else e.dayOfMonthValues=parseInt(d[2]);if("*"!==d[3])if(c){f=d[3].split(",");for(var g=0;g<f.length;g++)f[g]=+f[g];e.monthValues=f}else e.monthValues=parseInt(d[3]);if("*"!==d[4])if(c){f=d[4].split(",");for(var g=0;g<f.length;g++)f[g]=+f[g];e.dayValues=f}else e.dayValues=parseInt(d[4]);return e},c.fromQuartzCron=function(a,b){var c=a.replace(/\s+/g," ").split(" "),d={base:"1"},e=[];if("*"===c[1]&&"*"===c[2]&&"*"===c[3]&&"*"===c[4]&&"?"===c[5]?d.base=1:"*"===c[2]&&"*"===c[3]&&"*"===c[4]&&"?"===c[5]?d.base=2:"*"===c[3]&&"*"===c[4]&&"?"===c[5]?d.base=3:"?"===c[3]?d.base=4:"*"===c[4]&&"?"===c[5]?d.base=5:"?"===c[5]&&(d.base=6),"*"!==c[1])if(b){e=c[1].split(",");for(var f=0;f<e.length;f++)e[f]=+e[f];d.minuteValues=e}else d.minuteValues=parseInt(c[1]);if("*"!==c[2])if(b){e=c[2].split(",");for(var f=0;f<e.length;f++)e[f]=+e[f];d.hourValues=e}else d.hourValues=parseInt(c[2]);if("*"!==c[3]&&"?"!==c[3])if(b){e=c[3].split(",");for(var f=0;f<e.length;f++)e[f]=+e[f];d.dayOfMonthValues=e}else d.dayOfMonthValues=parseInt(c[3]);if("*"!==c[4])if(b){e=c[4].split(",");for(var f=0;f<e.length;f++)e[f]=+e[f];d.monthValues=e}else d.monthValues=parseInt(c[4]);if("*"!==c[5]&&"?"!==c[5])if(b){e=c[5].split(",");for(var f=0;f<e.length;f++)e[f]=+e[f];d.dayValues=e}else d.dayValues=parseInt(c[5]);return d},c}])}(angular),function(a){"use strict";a.module("angular-cron-jobs").service("i18nRetriever",function(){var a={EN:{TEMPLATE_KEYS:{EVERY:"Every",ON:"on",ON_THE:"on the",OF:"of",AT:"at",PAST_THE_HOUR:"past the hour"},FREQUENCIES:[{value:1,label:"Minute"},{value:2,label:"Hour"},{value:3,label:"Day"},{value:4,label:"Week"},{value:5,label:"Month"},{value:6,label:"Year"}],NUMERALS:{1:"1st",2:"2nd",3:"3rd",21:"21st",22:"22nd",23:"23rd",31:"31st"},UNTREATED_NUMERAL_INFO:"th",MONTHS:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},DAYS:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}},PT_BR:{TEMPLATE_KEYS:{EVERY:"Todo(a)",ON:"no(a)",ON_THE:"em",OF:"de",AT:"às",PAST_THE_HOUR:"passado(a) da hora"},FREQUENCIES:[{value:1,label:"Minuto"},{value:2,label:"Hora"},{value:3,label:"Dia"},{value:4,label:"Semana"},{value:5,label:"Mês"},{value:6,label:"Ano"}],NUMERALS:{1:"1",2:"2",3:"3",21:"21",22:"22",23:"23",31:"31"},UNTREATED_NUMERAL_INFO:"",MONTHS:{1:"Janeiro",2:"Fevereiro",3:"Março",4:"Abril",5:"Maio",6:"Junho",7:"Julho",8:"Agosto",9:"Setembro",10:"Outubro",11:"Novembro",12:"Dezembro"},DAYS:{0:"Domingo",1:"Segunda-feira",2:"Terça-feira",3:"Quarta-feira",4:"Quinta-feira",5:"Sexta-feira",6:"Sábado"}}},b=a.EN;return{initialize:function(c){b=a[c.toUpperCase()]},getTemplateKeys:function(){return b.TEMPLATE_KEYS},getFrequencies:function(){return b.FREQUENCIES},getNumeral:function(a){return"undefined"==typeof b.NUMERALS[a]?a+b.UNTREATED_NUMERAL_INFO:b.NUMERALS[a]},getMonths:function(){return b.MONTHS},getDays:function(){return b.DAYS}}})}(angular);